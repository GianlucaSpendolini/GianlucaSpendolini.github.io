<!doctype html>

<html>

<head>
    
    <title></title>

</head>

<body>

    <header></header>

    <hr />

    <main>

		<div class="converter-container">

            <div class="left-container">
                
                <textarea id="left" placeholder="Inserire il testo"></textarea>

                <select id="type-left">
                    <option value=""></option>
                    <option value="binary">Binario</option>
                    <option value="hexadecimal">Esadecimale</option>
                    <option value="morse">Morse</option>
                    <option value="octal">Ottale</option>
                    <option value="text">Testo semplice</option>
                </select>
                
            </div>

            <div class="right-container">
                
                <textarea id="right" placeholder=""></textarea>

                <select id="type-right">
                    <option value=""></option>
                    <option value="binary">Binario</option>
                    <option value="hexadecimal">Esadecimale</option>
                    <option value="morse">Morse</option>
                    <option value="octal">Ottale</option>
                    <option value="text">Testo semplice</option>
                </select>
                
            </div>

		</div>

    </main>

    <hr />

    <footer></footer>

    <!-- File JavaScript generico -->
    <script src="./../Static/javascript/scripts.js" type="module"></script>
    <script type="module">

        import {
            UserText
        } from 'https://GianlucaSpendolini.github.io/Static/javascript/util_class.js';

        document.addEventListener('DOMContentLoaded', () => {

            // Prendo i text area
            let left = document.getElementById('left');
            let right = document.getElementById('right');

            // Prendo i select
            let select_left = document.getElementById('type-left');
            let select_right = document.getElementById('type-right');

            // Aggiungo l'evento al select di sx
            select_left.addEventListener('change', () => {
                var type_left = select_left.value;
            });

            // Aggiungo l'evento al select di dx
            select_right.addEventListener('change', () => {
                var type_left = select_left.value;
            });

            console.log(type_left, type_right);

            // Aggiungo l'evento al textarea di sx
            left.addEventListener('input', () => {
                // Prendo il contenuto di sinistra 
                let content = left.value;

                // Prendo la specifica dalla lista

                // Converto
                let to_convert = new UserText(content);
                to_convert.convert();
                console.log(to_convert);

                // Inserisco nel textarea del codice morse
                right.value = content;
            });

            // Aggiungo l'evento al textarea di dx
            right.addEventListener('input', () => {
                // Prendo il contenuto di destra 
                let content = right.value;

                // Prendo la specifica dalla lista

                // Converto
                let to_convert = new UserText(content);
                to_convert.convert();
                console.log(to_convert);

                // Inserisco nel textarea del testo normale
                left.value = content;
            });

        });

    </script>
    
</body>

</html>