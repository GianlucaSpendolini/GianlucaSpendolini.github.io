<!DOCTYPE html>

<html lang="it" xmlns="http://www.w3.org/1999/xhtml">

<head>
    
    <title></title>
    
</head>

<body>

    <header></header>

    <hr />

    <main>

        <p class="movement_into_pages"></p>

        <div>
            <p>
                In questa pagina verrà data la possibilità di giocare ai giochi che sviluppo in singolo o nei quali ho partecipato allo sviluppo.
                Prima di giocare a qualsiasi gioco, leggere la descrizione sottostante, per eventuali avvertenze.
            </p>
            <p>
                Per giocare bisogna semplicemente cliccare sul titolo del gioco (quello in grande sopra la descrizione).
                <b>Non si possono aprire più giochi contemporaneamente e, se si dovesse provare, il gioco aperto precedentemente verrebbe chiuso!</b>
            </p>
            <p>
                I giochi presenti sono:
                <ul>
                    <li><a href="#pacman">Pacman</a></li>
                    <li><a href="#percorso_di_mario">Il percorso di Mario</a></li>
                    <li><a href="#cs50_story">CS50 - Story</a></li>
                    <li><a href="#my_vision_of_cs50">My vision of CS50</a></li>
                    <li><a href="#a_te_tra_2000_anni">A te tra 2000 anni</a></li>
                </ul>
            </p>
        </div>

        <div>
            <details>
                <summary>
                    <h2>
                        <a name="pacman">Progetto di gruppo - Pacman</a>
                    </h2>
                </summary>
                <div class="iframe-container" id="Progetto di gruppo - Pacman"></div>
            </details>
            <span>
                Questo gioco è stato creato per essere parte ad un progetto più grande per un corso che ho frequentato.
                Per la sua creazione mi sono ispirato alla <a href="">seguente playlist</a>.
                
                <br />
                
                Non è stato pensato per essere una copia dell'originale!
                Tutta la musica di sottofondo è stata scaricata legalmente da siti internet.
            </span>
        </div>

        <div>
            <details>
                <summary>
                    <h2>
                        <a name="percorso_di_mario">Il percorso di Mario</a>
                    </h2>
                </summary>
                <div class="iframe-container" id="Il percorso di Mario"></div>
            </details>
            <span>
                Questo è il progetto a cui mi riferivo nella descrizione di <a href="#pacman">Pacman</a>.
                Progetto finale del modulo "Fondamenti di informatica" per il corso ITS "Informatica Biomedicale 4.0".
            </span>
        </div>

        <div>
            <details>
                <summary>
                    <h2>
                        <a name="cs50_story">CS50 - Story</a>
                    </h2>
                </summary>
                <div class="iframe-container" id="CS50 - Story"></div>
            </details>
            <span>
                Questo progetto è ancora in fase di sviluppo.
                E' stato pensato come progetto finale per la "Week 0 - Scratch" del corso "CS50x - Introduction to Computer Science" di Harvard.
            </span>
        </div>

        <div>
            <details>
                <summary>
                    <h2>
                        <a name="my_vision_of_cs50">My vision of CS50</a>
                    </h2>
                </summary>
                <div class="iframe-container" id="My vision of CS50"></div>
            </details>
            <span>
                <b>ATTENZIONE: pericolo per persone fotosensibili!</b>

                <br />

                Questo gioco è stato usato come progetto finale per il corso di Harvard citato in <a href="#cs50_story">CS50 - Story</a>.
            </span>
        </div>

        <div>
            <details>
                <summary>
                    <h2>
                        <a name="a_te_tra_2000_anni">A te tra 2000 anni</a>
                    </h2>
                </summary>
                <div class="iframe-container" id="A te tra 2000 anni"></div>
            </details>
            <span>
                Questo progetto è ancora in fase di sviluppo.
                Questo gioco è pensato principalmente per far sclerare (in maniera positiva) una persona.
                Consiste in diverse domande alle quali, solo chi mi conosce abbastanza può rispondere.
            </span>
        </div>

    </main>

    <hr />

    <footer></footer>

    <!-- File JavaScript generico -->
    <script src="./../../Static/javascript/scripts.js" type="module"></script>
    <script>

        // Lista dei src dei vari tag iframe (id: url)
        let links = {
            "A te tra 2000 anni": "https://scratch.mit.edu/projects/960575794/embed",
            "CS50 - Story": "https://scratch.mit.edu/projects/848141529/embed",
            "Il percorso di Mario": "...",
            "My vision of CS50": "https://scratch.mit.edu/projects/807558943/embed",
            "Progetto di gruppo - Pacman": "https://scratch.mit.edu/projects/782181073/embed"
        };

        /*
            <iframe src="https://scratch.mit.edu/projects/782181073/embed" 
                    allowtransparency="true" 
                    width="485" 
                    height="402" 
                    frameborder="0"
                    scrolling="no"
                    allowfullscreen>
                Progetto di gruppo - Pacman
            </iframe>
        */

        // Prendo tutti gli iframe-container
        let iframe_containers = document.getElementsByClassName('iframe-container');

        Array.from(iframe_containers).forEach(container => {

            container.parentElement.addEventListener('click', () => {

                // Creo il tag iframe
                let iframe = document.createElement('iframe');
                iframe.allowFullscreen = true;
                iframe.setAttribute('allowtransparency', true);
                iframe.frameBorder = 0;
                iframe.innerHTML = container.id;
                iframe.scrolling = 'no';
                iframe.src = links[container.id];

                // Inserisco l'iframe nel contenitore
                container.firstElementChild.tagName === 'IFRAME' ? container.appendChild(iframe) : null;

                // Tolgo l'attributo open a tutti gli altri "detail"
                Array.from(iframe_containers).forEach(other_container => {
                    if (other_container !== container) {
                        other_container.parentElement.removeAttribute('open');
                        if (other_container.hasChildNodes()) {
                            other_container.removeChild(other_container.firstElementChild);
                        }
                    }
                });

            });

        });

    </script>
</body>

</html>